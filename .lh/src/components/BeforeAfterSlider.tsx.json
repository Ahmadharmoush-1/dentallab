{
    "sourceFile": "src/components/BeforeAfterSlider.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1767708142269,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1767708142269,
            "name": "Commit-0",
            "content": "import { useState, useRef, useCallback, useEffect } from \"react\";\r\n\r\ninterface BeforeAfterSliderProps {\r\n  beforeImage: string;\r\n  afterImage: string;\r\n  beforeLabel?: string;\r\n  afterLabel?: string;\r\n}\r\n\r\nconst BeforeAfterSlider = ({\r\n  beforeImage,\r\n  afterImage,\r\n  beforeLabel = \"Before\",\r\n  afterLabel = \"After\",\r\n}: BeforeAfterSliderProps) => {\r\n  const [sliderPosition, setSliderPosition] = useState(50);\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n  const handleMove = useCallback(\r\n    (clientX: number) => {\r\n      if (!containerRef.current) return;\r\n      \r\n      const rect = containerRef.current.getBoundingClientRect();\r\n      const x = clientX - rect.left;\r\n      const percentage = Math.max(0, Math.min(100, (x / rect.width) * 100));\r\n      setSliderPosition(percentage);\r\n    },\r\n    []\r\n  );\r\n\r\n  const handleMouseDown = (e: React.MouseEvent) => {\r\n    e.preventDefault();\r\n    setIsDragging(true);\r\n    handleMove(e.clientX);\r\n  };\r\n\r\n  const handleTouchStart = (e: React.TouchEvent) => {\r\n    setIsDragging(true);\r\n    handleMove(e.touches[0].clientX);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleMouseMove = (e: MouseEvent) => {\r\n      if (!isDragging) return;\r\n      handleMove(e.clientX);\r\n    };\r\n\r\n    const handleTouchMove = (e: TouchEvent) => {\r\n      if (!isDragging) return;\r\n      handleMove(e.touches[0].clientX);\r\n    };\r\n\r\n    const handleEnd = () => {\r\n      setIsDragging(false);\r\n    };\r\n\r\n    if (isDragging) {\r\n      document.addEventListener(\"mousemove\", handleMouseMove);\r\n      document.addEventListener(\"mouseup\", handleEnd);\r\n      document.addEventListener(\"touchmove\", handleTouchMove, { passive: true });\r\n      document.addEventListener(\"touchend\", handleEnd);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousemove\", handleMouseMove);\r\n      document.removeEventListener(\"mouseup\", handleEnd);\r\n      document.removeEventListener(\"touchmove\", handleTouchMove);\r\n      document.removeEventListener(\"touchend\", handleEnd);\r\n    };\r\n  }, [isDragging, handleMove]);\r\n\r\n  return (\r\n    <div\r\n      ref={containerRef}\r\n      className=\"relative w-full aspect-[16/9] rounded-xl overflow-hidden cursor-ew-resize select-none shadow-elegant group\"\r\n      onMouseDown={handleMouseDown}\r\n      onTouchStart={handleTouchStart}\r\n    >\r\n      {/* After Image (Background) */}\r\n      <div className=\"absolute inset-0\">\r\n        <img\r\n          src={afterImage}\r\n          alt={afterLabel}\r\n          className=\"w-full h-full object-cover\"\r\n          loading=\"lazy\"\r\n          decoding=\"async\"\r\n        />\r\n        <div className=\"absolute bottom-4 right-4 bg-foreground/80 backdrop-blur-sm text-primary-foreground px-3 py-1.5 rounded-full text-sm font-medium\">\r\n          {afterLabel}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Before Image (Clipped) */}\r\n      <div\r\n        className=\"absolute inset-0 overflow-hidden\"\r\n        style={{ clipPath: `inset(0 ${100 - sliderPosition}% 0 0)` }}\r\n      >\r\n        <img\r\n          src={beforeImage}\r\n          alt={beforeLabel}\r\n          className=\"w-full h-full object-cover\"\r\n          loading=\"lazy\"\r\n          decoding=\"async\"\r\n        />\r\n        <div className=\"absolute bottom-4 left-4 bg-foreground/80 backdrop-blur-sm text-primary-foreground px-3 py-1.5 rounded-full text-sm font-medium\">\r\n          {beforeLabel}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Slider Line */}\r\n      <div\r\n        className=\"absolute top-0 bottom-0 w-0.5 bg-gold z-10 transition-opacity\"\r\n        style={{ left: `${sliderPosition}%` }}\r\n      >\r\n        {/* Slider Handle */}\r\n        <div\r\n          className={`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-gold flex items-center justify-center shadow-lg transition-transform ${\r\n            isDragging ? \"scale-110\" : \"group-hover:scale-105\"\r\n          }`}\r\n        >\r\n          <div className=\"flex items-center gap-0.5\">\r\n            <svg\r\n              className=\"w-3 h-3 text-foreground rotate-180\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth={3}\r\n            >\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 5l7 7-7 7\" />\r\n            </svg>\r\n            <svg\r\n              className=\"w-3 h-3 text-foreground\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth={3}\r\n            >\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 5l7 7-7 7\" />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Instruction Overlay */}\r\n      <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\r\n        <div className=\"bg-foreground/60 backdrop-blur-sm text-primary-foreground px-4 py-2 rounded-full text-sm font-medium\">\r\n          Drag to compare\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BeforeAfterSlider;"
        }
    ]
}